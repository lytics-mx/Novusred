<odoo>
    <template id="custom_products_sidebar" inherit_id="website_sale.products">
        <!-- Cambiar la posición del contenido -->
        <xpath expr="//div[@id='wrap']" position="inside">
            <div class="d-flex" style="width: 100%; align-items: flex-start;"> <!-- Flexbox para alinear barra lateral y productos -->
                <!-- Barra lateral -->
                <aside class="sidebar-sections compact-sidebar" style="flex: 0 0 200px; margin-right: 20px;"> <!-- Ancho reducido -->
                    <!-- Categorías -->
                    <div class="list-group mt-2">
                        <h6 class="mb-2">Categorías</h6>
                        <t t-foreach="categories" t-as="category">
                            <a t-att-href="'/shop?category=' + str(category.id)" 
                               t-att-class="'list-group-item list-group-item-action py-1' + (' active' if selected_category == category.id else '')">
                                <t t-esc="category.name"/>
                            </a>
                        </t>
                    </div>

                    <!-- Ofertas -->
                    <div class="list-group mt-2">
                        <h6 class="mb-2">Ofertas</h6>
                        <a href="/shop?offer=true" class="list-group-item list-group-item-action py-1">
                            Productos en oferta
                        </a>
                    </div>

                    <!-- Marcas -->
                    <div class="list-group mt-2">
                        <h6 class="mb-2">Marcas</h6>
                        <t t-foreach="brands" t-as="brand">
                            <a t-att-href="'/shop?brand=' + str(brand.id)" 
                               t-att-class="'list-group-item list-group-item-action py-1' + (' active' if selected_brand == brand.id else '')">
                                <t t-esc="brand.name"/>
                            </a>
                        </t>
                    </div>

                    <!-- Etiquetas -->
                    <div class="list-group mt-2">
                        <h6 class="mb-2">Etiquetas</h6>
                        <t t-foreach="tags" t-as="tag">
                            <a t-att-href="'/shop?tag=' + str(tag.id)" 
                               t-att-class="'list-group-item list-group-item-action py-1' + (' active' if selected_tag == tag.id else '')">
                                <t t-esc="tag.name"/>
                            </a>
                        </t>
                    </div>
                </aside>

                <!-- Contenido de productos -->
                <div class="products-content" style="flex: 1;"> <!-- El resto del espacio para los productos -->
                    <t t-call="website_sale.products_list"/> <!-- Replace with an existing view, e.g., products_list -->
                </div>
            </div>
        </xpath>
    </template>
</odoo>