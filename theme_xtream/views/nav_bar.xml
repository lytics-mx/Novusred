<odoo>
    <template id="related_products_template" name="Productos Relacionados">
        <div class="related-products" style="margin-top: 30px;">
            <h3 style="text-align: center;">Productos Relacionados</h3>
            <div class="owl-carousel owl-theme" style="margin-top: 20px;">
                <t t-foreach="request.env['product.template'].sudo().browse(request.session.get('viewed_products', []))" t-as="product">
                    <t t-set="related_products" t-value="request.env['product.template'].sudo().search([
                        ('id', '!=', product.id),
                        '|',
                        ('name', 'ilike', product.name),
                        ('categ_id', '=', product.categ_id.id)
                    ], limit=10)" />
                    <t t-foreach="related_products" t-as="related">
                        <div class="item" style="padding: 10px; text-align: center;">
                            <a t-att-href="'/shop/product/' + str(related.id)" style="text-decoration: none;">
                                <img t-att-src="'/web/image/product.template/' + str(related.id) + '/image_1920'" alt="Product Image" style="width: 100%; height: auto; border-radius: 5px;" />
                                <p style="font-family: 'Questrial', sans-serif; font-size: 14px; color: #333; margin-top: 10px;">
                                    <t t-esc="related.name" />
                                </p>
                            </a>
                        </div>
                    </t>
                </t>
            </div>
        </div>

        <!-- Owl Carousel JS and CSS -->
        <t t-call-assets="web.assets_frontend" />
        <script>
            $(document).ready(function(){
                $('.owl-carousel').owlCarousel({
                    loop: true,
                    margin: 10,
                    nav: true,
                    responsive: {
                        0: { items: 1 },
                        600: { items: 3 },
                        1000: { items: 5 }
                    }
                });
            });
        </script>
    </template>
</odoo>