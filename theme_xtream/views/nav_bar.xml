<odoo>
    <template id="custom_navbar" name="Custom Navbar" inherit_id="website.layout">
        <xpath expr="//header" position="inside">
            <div class="o_navbar_custom container-fluid" style="background-color: #5081FF; padding: 8px; font-family: 'Questrial', sans-serif; font-size: 18px;">
                <div class="row align-items-center">
                    <div class="col">
                        <nav class="navbar navbar-expand-lg">
                            <!-- Botón hamburguesa solo visible en pantallas pequeñas -->
                            <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            
                            <!-- Contenido del navbar -->
                            <div class="collapse navbar-collapse" id="navbarContent">
                                <div class="navbar-nav mx-auto text-center">
                                    <!-- Categorías Dropdown -->
                                    <div class="dropdown nav-item">
                                        <button class="btn dropdown-toggle-no-caret mx-3 my-2 my-md-0" type="button" id="dropdownCategorias" data-bs-toggle="dropdown" aria-expanded="false" style="font-family: 'Questrial', sans-serif; color: white;">
                                            Categorías
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="dropdownCategorias">
                                            <!-- Iterar sobre las categorías visibles -->
                                            <t t-foreach="request.env['product.category'].search([('is_visible_in_menu', '=', True), ('parent_id', '=', False)])" t-as="category">
                                                <li class="dropdown-item">
                                                    <div class="d-flex align-items-center">
                                                        <img t-if="category.icon" t-att-src="image_data_uri(category.icon)" class="me-2" style="width: 24px; height: 24px;"/>
                                                        <span t-esc="category.name"/>
                                                    </div>
                                                    <!-- Subcategorías -->
                                                    <ul class="dropdown-submenu">
                                                        <t t-foreach="category.child_id.filtered(lambda c: c.is_visible_in_menu)" t-as="subcategory">
                                                            <li class="dropdown-item">
                                                                <div class="d-flex align-items-center">
                                                                    <img t-if="subcategory.icon" t-att-src="image_data_uri(subcategory.icon)" class="me-2" style="width: 24px; height: 24px;"/>
                                                                    <span t-esc="subcategory.name"/>
                                                                </div>
                                                            </li>
                                                        </t>
                                                    </ul>
                                                </li>
                                            </t>
                                        </ul>
                                    </div>
                                    <a href="/shop" class="nav-link mx-3 my-2 my-md-0" style="color: white; text-decoration: none; font-family: 'Questrial', sans-serif;">Tienda</a>
                                    <a href="/" class="nav-link mx-3 my-2 my-md-0" style="color: white; text-decoration: none; font-family: 'Questrial', sans-serif;">Ofertas</a>
                                    <a href="/" class="nav-link mx-3 my-2 my-md-0" style="color: white; text-decoration: none; font-family: 'Questrial', sans-serif;">Marcas</a>
                                    <t t-if="user_id != website.user_id">
                                        <a href="/shop/cart" class="nav-link mx-3 my-2 my-md-0" style="color: white; text-decoration: none; font-family: 'Questrial', sans-serif;">Historial</a>
                                    </t>
                                    <a href="/about" class="nav-link mx-3 my-2 my-md-0" style="color: white; text-decoration: none; font-family: 'Questrial', sans-serif;">Nosotros</a>
                                    <a href="/contactus" class="nav-link mx-3 my-2 my-md-0" style="color: white; text-decoration: none; font-family: 'Questrial', sans-serif;">Contacto</a>
                                    
                                    <span class="nav-item" style="margin: 0 30px;"></span>

                                

                                    <t t-if="user_id != website.user_id">
                                        <div class="d-none d-lg-flex">
                                            <a href="/mail/inbox" class="nav-link position-relative">
                                                <i class="fa fa-bell"/>
                                                <t t-if="request.env.user.notification_type != 'email' and request.env.user.partner_id.has_message">
                                                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                                        <t t-esc="request.env.user.partner_id.message_unread_counter"/>
                                                    </span>
                                                </t>
                                            </a>
                                            <a href="/shop/cart" class="nav-link mx-2">
                                                <i class="fa fa-shopping-cart"/>
                                                <sup t-if="website_sale_order and website_sale_order.cart_quantity" class="my_cart_quantity badge badge-primary"><t t-esc="website_sale_order.cart_quantity"/></sup>
                                            </a>
                                        </div>
                                    </t>
                                     <t t-if="user_id != website.user_id">
                                        <li class="nav-item dropdown">
                                            <a href="#" class="nav-link dropdown-toggle-no-caret d-flex align-items-center" 
                                               data-bs-toggle="dropdown" 
                                               aria-expanded="false"
                                               style="color: white; font-family: 'Questrial', sans-serif; font-weight: normal;">
                                                <img t-if="user_id.image_1920" t-att-src="image_data_uri(user_id.image_1920)" class="rounded-circle me-2" style="width: 24px; height: 24px;"/>
                                                <img t-else="" src="/theme_xtream/static/src/img/logos/user.png" class="me-2" style="width: 24px; height: 24px;"/>
                                                <t t-esc="user_id.name"/>
                                            </a>
                                            <div class="dropdown-menu" role="menu">
                                                <a href="/web" class="dropdown-item d-flex align-items-center">
                                                    <i class="fa fa-th-large me-2"></i>
                                                    Aplicaciones
                                                </a>
                                                <a href="/my/home" class="dropdown-item d-flex align-items-center">
                                                    <i class="fa fa-user me-2"></i>
                                                    Mi Cuenta
                                                </a>
                                                <div class="dropdown-divider"/>
                                                <a t-attf-href="/web/session/logout?redirect=/" class="dropdown-item d-flex align-items-center">
                                                    <i class="fa fa-sign-out me-2"></i>
                                                    Cerrar Sesión
                                                </a>
                                            </div>
                                        </li>
                                    </t>
                                    <t t-else="">
                                        <a href="/web/login" class="nav-link mx-2" style="color: white; font-family: 'Questrial', sans-serif;">
                                            <i class="fa fa-user me-2"></i>
                                            Iniciar Sesión
                                        </a>
                                    </t>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </xpath>
    </template>
</odoo>