<odoo>
    <template id="website_view_product_xtream_mobile" inherit_id="website_view_product_xtream">
        <xpath expr="//div[@id='wrap']" position="inside">
            <div class="d-block d-md-none w-100 px-0 py-2" style="font-family: 'Montserrat', Arial, sans-serif; width:100%; max-width:100%; margin:0; padding-top:0.5rem; padding-bottom:0.5rem;">
                <!-- Estado del producto -->
                <t t-set="pdate" t-value="product.create_date"/>
                <t t-set="now" t-value="datetime.datetime.now()"/>
                <div t-if="pdate and pdate.year == now.year and pdate.month == now.month" style="font-size:12px; color:#888;">
                    Nuevo
                </div>                <!-- Título -->
                <div style="font-size:18px; font-weight:600; margin-bottom:4px;">
                    <t t-esc="product.name and (product.name[:40] + '' if len(product.name) > 40 else product.name)"/>
                </div>
                <div style="font-size:13px; color:#888; margin-bottom:4px;">
                    <t t-if="product.product_model">
                        <t t-esc="product.product_model"/>
                    </t>
                    <t t-elif="product.default_code">
                        <t t-esc="product.default_code"/>
                    </t>
                </div>
                <!-- Estrellas -->
                <div class="mb-2">
                    <span style="color:#0057ff; font-size:20px;">&#9733;&#9733;&#9733;&#9733;</span>
                    <span style="color:#ccc; font-size:20px;">&#9733;</span>
                </div>
                <!-- Slider de imágenes -->
                <div class="mb-2 text-center">
                    <t t-set="pcount" t-value="1 + (len(product.product_image_ids) if product.product_image_ids else 0)"/>
                    <span style="font-size:11px; background:#f2f2f2; border-radius:8px; padding:2px 8px;">
                        <t t-esc="1"/> / <t t-esc="pcount"/>
                    </span>
                </div>
                <div class="mb-3 text-center">
                    <!-- Imagen principal primero -->
                    <img id="main-product-img"
                         t-att-src="'/web/image/product.template/' + str(product.id) + '/image_1920'"
                         alt="Imagen principal"
                         style="max-width:100%; border-radius:10px; object-fit:contain;"/>
                </div>
                <!-- Imágenes adicionales (si existen) -->
                <t t-if="product.product_image_ids">
                    <div class="d-flex justify-content-center gap-2 mb-3" style="overflow:auto; padding-bottom:4px;">
                        <t t-foreach="product.product_image_ids" t-as="img">
                            <img t-att-src="'/web/image/product.image/' + str(img.id) + '/image_1920'"
                                 t-att-alt="img.name or 'Imagen adicional'"
                                 class="img-thumbnail thumb-mini"
                                 t-att-data-img="'/web/image/product.image/' + str(img.id) + '/image_1920'"
                                 style="height:64px; width:auto; cursor:pointer; border-radius:8px;"/>
                        </t>
                    </div>
                </t>
                <!-- Precio y descuento -->
                <div class="card-body accessory-card-body accessory-card-100" style="text-align: left; padding: 4px 2px 2px 2px;">
                    <!-- Tag -->
                    <t t-if="product.product_tag_ids">
                        <div class="d-flex justify-content-start mb-2 accessory-badge-container">
                            <span class="badge bg-primary accessory-badge" style="border-radius: 0; text-transform: uppercase; font-size:10px; padding:2px 4px; max-width:90px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">
                                <t t-esc="product.product_tag_ids[0].name"/>
                            </span>
                        </div>
                    </t>

                    <!-- Precio con descuento -->
                    <t t-set="has_list" t-value="bool(product.list_price)"/>
                    <t t-set="has_price" t-value="bool(product.price)"/>
                    <t t-set="discount_amount" t-value="(product.list_price - product.price) if (product.list_price and product.price and product.list_price > product.price) else 0"/>
                    <t t-set="discount_percentage" t-value="int((discount_amount / product.list_price) * 100) if (product.list_price and discount_amount) else 0"/>

                    <t t-if="discount_amount &gt; 0">
                        <div class="mb-1" style="display:flex; align-items:center;">
                            <span style="text-decoration:line-through; color:#888; font-size:14px; margin-right:8px;">
                                $<t t-esc="'{:,}'.format(int(product.list_price or 0))"/>
                            </span>
                            <span style="font-size:24px; font-weight:700; color:#222;">
                                $<t t-esc="'{:,}'.format(int(product.price or 0))"/>
                            </span>
                            <span style="color:#ff5a1f; font-size:14px; font-weight:600; margin-left:8px;">
                                <t t-if="discount_percentage &gt; 0"><t t-esc="discount_percentage"/>% OFF</t>
                                <t t-elif="discount_amount &gt; 0">-$<t t-esc="'{:,}'.format(int(discount_amount))"/> OFF</t>
                            </span>
                        </div>
                        <div style="font-size:13px; color:#888;">
                            $<t t-esc="'{:,}'.format(int(discount_amount))"/> de descuento
                        </div>
                    </t>
                    <t t-elif="has_list">
                        <div class="mb-1" style="display:flex; align-items:center;">
                            <span style="font-size:24px; font-weight:700; color:#222;">
                                $<t t-esc="'{:,}'.format(int(product.list_price or 0))"/>
                            </span>
                        </div>
                    </t>

                    <!-- Envío gratis -->
                    <t t-if="product.free_shipping">
                        <div style="color:#ff5a1f; font-size:14px; font-weight:600;">Envío gratis</div>
                    </t>

                    <!-- Detalles -->
                    <div style="font-size:13px; color:#444;">
                        Modelo: <t t-esc="product.default_code"/><br/>
                        Marca: <t t-esc="product.brand_type_id.name"/><br/>

                        Disponible
                    </div>
                </div>
                <!-- Selector de cantidad -->
                <div class="my-3">
                    <button class="btn btn-light w-100" style="border-radius:8px; border:1px solid #e0e0e0; text-align:left;">
                        Cantidad: 1 (500 disponibles)
                        <span class="float-end">&gt;</span>
                    </button>
                </div>
                <!-- Métodos de pago -->
                <div style="font-size:13px; color:#888;">Puedes pagar con:</div>
                <div class="d-flex flex-wrap align-items-center mb-3" style="gap:8px;">
                    <!-- <img src="/theme_xtream/static/src/img/visa.svg" style="height:24px;"/>
                    <img src="/theme_xtream/static/src/img/mastercard.svg" style="height:24px;"/>
                    <img src="/theme_xtream/static/src/img/amex.svg" style="height:24px;"/>
                    <img src="/theme_xtream/static/src/img/paypal.svg" style="height:24px;"/>
                    <img src="/theme_xtream/static/src/img/oxxo.svg" style="height:24px;"/> -->
                </div>
                <!-- Botones -->
                <button class="btn btn-primary w-100 mb-2" style="background:#2979ff; border-radius:8px; font-weight:600;">
                    Agregar al carrito
                </button>
                <button class="btn btn-primary w-100" style="background:#82b1ff; border-radius:8px; font-weight:600;">
                    Agregar al carrito
                </button>
            </div>
        </xpath>
    </template>
</odoo>