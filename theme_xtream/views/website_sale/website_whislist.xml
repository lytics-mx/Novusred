<odoo>
    <template id="wishlist_template" name="Favoritos">
        <t t-call="website.layout">
            <t t-set="additional_title">Favoritos</t>
            <div id="wrap" class="js_sale">
                <div class="container oe_website_sale pt-3">
                    <section class="container wishlist-section">
                        <h3>Mis Favoritos</h3>
                        <form method="post" action="/shop/wishlist/clear" id="wishlist_bulk_remove_form">
                            <t t-call="theme_xtream.csrf_token" />
                            <div class="checkbox mb-3">
                                <label class="text-muted">
                                    <input type="checkbox" id="select_all" onchange="toggleCheckboxes(this)" class="mr8"/>
                                    Seleccionar todos
                                </label>
                                <button type="submit" class="btn btn-link text-danger" onclick="return confirm('¿Eliminar seleccionados?');">
                                    Eliminar seleccionados
                                </button>
                            </div>
                            <table class="table table-bordered table-striped table-hover text-center mt16" id="o_comparelist_table">
                                <tbody>
                                    <t t-foreach="wishlist_items" t-as="item" t-key="item.id">
                                        <tr>
                                            <td class="td-img align-middle d-none d-md-table-cell">
                                                <a t-att-href="item.product_id.website_url">
                                                    <img t-att-src="'/web/image/product.product/%s/image_128' % item.product_id.id" class="img img-fluid" style="margin:auto;" alt="Product image"/>
                                                </a>
                                            </td>
                                            <td class="align-middle">
                                                <input type="checkbox" name="wishlist_select[]" t-att-value="item.id" class="wishlist-checkbox mr-2"/>
                                                <strong>
                                                    <a t-att-href="item.product_id.website_url">
                                                        <t t-esc="item.product_id.name"/>
                                                    </a>
                                                </strong>
                                                <small class="d-none d-md-block text-muted">
                                                    <t t-esc="item.product_id.description_sale"/>
                                                </small>
                                                <form method="post" t-att-action="'/shop/wishlist/remove/%s' % item.id" style="display:inline;">
                                                    <t t-call="theme_xtream.csrf_token" />
                                                    <button type="submit" class="btn btn-link text-danger p-0" onclick="return confirm('¿Eliminar este producto?');">
                                                        <i class="fa fa-trash-o"/> Eliminar
                                                    </button>
                                                </form>
                                            </td>
                                            <td class="align-middle">
                                                <span style="font-weight:bold;">
                                                    $<t t-esc="'{:,}'.format(int(item.product_id.list_price))"/>
                                                </span>
                                                <t t-if="item.product_id.discounted_price &lt; item.product_id.list_price">
                                                    <span class="text-success ml-2">
                                                        $<t t-esc="'{:,}'.format(int(item.product_id.discounted_price))"/> con descuento
                                                    </span>
                                                </t>
                                            </td>
                                            <td class="text-center align-middle">
                                                <button type="button" class="btn btn-secondary btn-block">
                                                    Agregar al carrito
                                                </button>
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                        </form>
                        <t t-if="not wishlist_items">
                            <div class="container" style="text-align:center; padding: 40px 0;">
                                <p style="font-size: 20px; color: #555;">No tienes productos en tu lista de favoritos.</p>
                                <a href="/subcategory" class="btn btn-primary" style="margin-top: 20px; background: #FF5207; border: none; font-size: 16px;">
                                    Ir a ver productos
                                </a>
                            </div>
                        </t>
                    </section>
                </div>
            </div>
            <script>
                function toggleCheckboxes(selectAllCheckbox) {
                    const checkboxes = document.querySelectorAll('.wishlist-checkbox');
                    checkboxes.forEach(checkbox => {
                        checkbox.checked = selectAllCheckbox.checked;
                    });
                }
            </script>
        </t>
    </template>
</odoo>