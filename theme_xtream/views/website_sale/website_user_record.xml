<odoo>
    <template id="website_signup" name="Registro">
        <t t-call="website.layout">
            <div id="wrap" class="d-none d-md-block" style="background:#ededed;min-height:100vh;">
                <div class="container py-5 d-flex flex-column align-items-center" style="min-height:80vh;">
                    <h2 class="mb-4 text-start" style="font-size:20px;">Ingresa tu información</h2>
                    <div class="card shadow-sm p-4 mb-4" style="width:100%;max-width:900px;background:#fff;">
                        <!-- Mostrar mensaje de error si existe -->
                        <t t-if="error">
                            <div class="alert alert-danger" role="alert">
                                <t t-esc="error" />
                            </div>
                        </t>
                        <form t-att-action="'/user'" method="post" autocomplete="off" id="registration_form">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="name">Nombre</label>
                                    <input type="text" id="name" name="name" class="form-control" required="required" style="border:1.5px solid #6ea8fe;background-color:transparent;" />
                                    <small class="text-muted">Solo se permiten caracteres alfabéticos (letras) y el punto (.), seguidos de un espacio.</small>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="last_name">Apellidos</label>
                                    <input type="text" id="last_name" name="last_name" class="form-control" required="required" style="border:1.5px solid #6ea8fe;background-color:transparent;" />
                                    <small class="text-muted">Solo se permiten caracteres alfabéticos (letras) y el punto (.), seguidos de un espacio.</small>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="login">Correo electronico</label>
                                    <input type="email" id="login" name="login" class="form-control" required="required" style="border:1.5px solid #6ea8fe;background-color:transparent;" />
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="password">Contraseña</label>
                                    <input type="password" id="password" name="password" class="form-control" required="required" minlength="6" style="border:1.5px solid #6ea8fe;background-color:transparent;" />
                                    <small class="text-muted">La contraseña debe tener un mínimo de 6 caracteres</small>
                                </div>
                            </div>
                            <div class="form-check mb-4">
                                <input class="form-check-input" type="checkbox" id="accept_terms" name="accept_terms" required="required" style="width:22px;height:22px;" title="Debes aceptar los términos y condiciones para continuar." />
                                <label class="form-check-label ms-2" for="accept_terms" style="font-size:14px;">
                                    Acepto las condiciones generales y la política de confidencialidad
                                </label>
                            </div>
                            <div class="d-flex justify-content-center">
                                <button type="submit" class="btn" style="background:#388bff;color:#fff;font-size:18px;padding:10px 60px;border-radius:10px;">Crear</button>
                            </div>
                            <script>
                                document.getElementById('registration_form').addEventListener('submit', function(event) {
                                    event.preventDefault(); // Evita el comportamiento predeterminado
                                    const form = event.target;
                            
                                    // Realiza la solicitud POST
                                    fetch(form.action, {
                                        method: form.method,
                                        body: new FormData(form),
                                    })
                                    .then(response => {
                                        if (response.ok) {
                                            // Actualizar el ícono de notificación
                                            const notificationCounter = document.getElementById('notificationCounter');
                                            const notificationMessage = document.getElementById('notificationMessage');
                            
                                            if (notificationCounter &amp;&amp; notificationMessage) {
                                                notificationCounter.style.display = 'inline-block';
                                                notificationMessage.style.display = 'block';
                                            }
                            
                                            // Mostrar notificación de éxito centrada
                                            const notification = document.createElement('div');
                                            notification.textContent = '¡Registro exitoso!';
                                            notification.style.position = 'fixed';
                                            notification.style.top = '50%';
                                            notification.style.left = '50%';
                                            notification.style.transform = 'translate(-50%, -50%)';
                                            notification.style.backgroundColor = '#4caf50';
                                            notification.style.color = '#fff';
                                            notification.style.padding = '20px 40px';
                                            notification.style.fontSize = '20px';
                                            notification.style.borderRadius = '10px';
                                            notification.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.3)';
                                            notification.style.zIndex = '9999';
                                            document.body.appendChild(notification);
                            
                                            // Ocultar notificación después de 5 segundos
                                            setTimeout(() => {
                                                notification.remove();
                                            }, 5000);
                                        } else {
                                            alert('Hubo un error al procesar el formulario.');
                                        }
                                    })
                                    .catch(error => {
                                        console.error('Error:', error);
                                        alert('Hubo un error al procesar el formulario.');
                                    });
                                });
                            </script>                       
                        </form>
                    </div>
                </div>
            </div>

            <div id="wrap-mobile" class="oe_structure oe_empty d-block d-md-none" style="background:#fff;min-height:100vh;">
                <div class="container d-flex flex-column align-items-center justify-content-center" style="min-height:100vh;">
                    <div class="p-4 mb-4 w-100" style="max-width:400px;background:#fff;">
                        <h2 class="mb-4 text-center" style="font-size:20px;">Ingresa tu información</h2>
                        <t t-if="error">
                            <div class="alert alert-danger" role="alert">
                                <t t-esc="error" />
                            </div>
                        </t>
                        <form t-att-action="'/user'" method="post" autocomplete="off" id="registration_form_mobile">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <div class="mb-3">
                                <label for="name" class="form-label" style="font-size:16px;">Nombre</label>
                                <input type="text" id="name" name="name" class="form-control" required="required" style="border:1.5px solid #6ea8fe;background-color:transparent;font-size:16px;" />
                                <small class="text-muted">Solo se permiten caracteres alfabéticos (letras) y el punto (.), seguidos de un espacio.</small>
                            </div>
                            <div class="mb-3">
                                <label for="last_name" class="form-label" style="font-size:16px;">Apellidos</label>
                                <input type="text" id="last_name" name="last_name" class="form-control" required="required" style="border:1.5px solid #6ea8fe;background-color:transparent;font-size:16px;" />
                                <small class="text-muted">Solo se permiten caracteres alfabéticos (letras) y el punto (.), seguidos de un espacio.</small>
                            </div>
                            <div class="mb-3">
                                <label for="login" class="form-label" style="font-size:16px;">Correo electronico</label>
                                <input type="email" id="login" name="login" class="form-control" required="required" style="border:1.5px solid #6ea8fe;background-color:transparent;font-size:16px;" />
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label" style="font-size:16px;">Contraseña</label>
                                <input type="password" id="password" name="password" class="form-control" required="required" minlength="6" style="border:1.5px solid #6ea8fe;background-color:transparent;font-size:16px;" />
                                <small class="text-muted">La contraseña debe tener un mínimo de 6 caracteres</small>
                            </div>
                            <div class="form-check mb-4 d-flex align-items-center">
                                <input class="form-check-input" type="checkbox" id="accept_terms" name="accept_terms" required="required" style="width:22px;height:22px;" title="Debes aceptar los términos y condiciones para continuar." />
                                <label class="form-check-label ms-2" for="accept_terms" style="font-size:14px;">
                                    Acepto las condiciones generales y la política de confidencialidad
                                </label>
                            </div>
                            <div class="d-grid">
                                <button type="submit" class="btn" style="background:#388bff;color:#fff;font-size:18px;padding:12px 0;border-radius:10px;width:100%;">Crear</button>
                            </div>
                            <script>
                                document.getElementById('registration_form_mobile').addEventListener('submit', function(event) {
                                    event.preventDefault();
                                    const form = event.target;
                                    fetch(form.action, {
                                        method: form.method,
                                        body: new FormData(form),
                                    })
                                    .then(response => {
                                        if (response.ok) {
                                            // Actualizar el ícono de notificación
                                            const notificationCounter = document.getElementById('notificationCounter');
                                            const notificationMessage = document.getElementById('notificationMessage');
                                            if (notificationCounter &amp;&amp; notificationMessage) {
                                                notificationCounter.style.display = 'inline-block';
                                                notificationMessage.style.display = 'block';
                                            }
                                            // Mostrar notificación de éxito centrada
                                            const notification = document.createElement('div');
                                            notification.textContent = '¡Registro exitoso!';
                                            notification.style.position = 'fixed';
                                            notification.style.top = '50%';
                                            notification.style.left = '50%';
                                            notification.style.transform = 'translate(-50%, -50%)';
                                            notification.style.backgroundColor = '#4caf50';
                                            notification.style.color = '#fff';
                                            notification.style.padding = '20px 40px';
                                            notification.style.fontSize = '20px';
                                            notification.style.borderRadius = '10px';
                                            notification.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.3)';
                                            notification.style.zIndex = '9999';
                                            document.body.appendChild(notification);
                                            setTimeout(() => {
                                                notification.remove();
                                            }, 5000);
                                        } else {
                                            alert('Hubo un error al procesar el formulario.');
                                        }
                                    })
                                    .catch(error => {
                                        console.error('Error:', error);
                                        alert('Hubo un error al procesar el formulario.');
                                    });
                                });
                            </script>
                        </form>
                    </div>
                </div>
            </div>

        </t>
    </template>
</odoo>